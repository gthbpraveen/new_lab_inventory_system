{% extends "login_home.html" %}
{% block content %}
<div class="max-w-6xl mx-auto py-6 px-4">
  <h2 class="text-2xl font-bold text-purple-800 mb-6">Edit Equipment</h2>

  <form method="POST" class="grid gap-6">

    <!-- Row 1: Basic Info -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="space-y-2">
        <label>Name</label>
        <input type="text" name="name" value="{{ item.name }}" class="border p-2 w-full" required>
        <label>Category</label>
        <input type="text" name="category" value="{{ item.category }}" class="border p-2 w-full" required>
      </div>
      <div class="space-y-2">
        <label>Manufacturer</label>
        <input type="text" name="manufacturer" value="{{ item.manufacturer }}" class="border p-2 w-full">
        <label>Model</label>
        <input type="text" name="model" value="{{ item.model }}" class="border p-2 w-full">
      </div>
      <div class="space-y-2">
        <label>Serial Number</label>
        <input type="text" name="serial_number" value="{{ item.serial_number }}" class="border p-2 w-full" required>
        <label>Invoice Number</label>
        <input type="text" name="invoice_number" value="{{ item.invoice_number }}" class="border p-2 w-full">
      </div>
    </div>

    <!-- Row 2: Procurement & Warranty -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="space-y-2">
        <label>PO Date</label>
        <input type="date" name="po_date" value="{{ item.po_date }}" class="border p-2 w-full">
        <label>PO Number</label>
        <input type="text" name="po_number" value="{{ item.po_number }}" class="border p-2 w-full">
      </div>
      <div class="space-y-2">
        <label>Source of Fund</label>
        <input type="text" name="source_of_fund" value="{{ item.source_of_fund }}" class="border p-2 w-full">
        <label>Warranty Start</label>
        <input type="date" name="warranty_start" value="{{ item.warranty_start }}" class="border p-2 w-full">
      </div>
      <div class="space-y-2">
        <label>Warranty Expiry</label>
        <input type="date" name="warranty_expiry" value="{{ item.warranty_expiry }}" class="border p-2 w-full">
        <label>Cost per Unit</label>
        <input type="number" step="0.01" name="cost_per_unit" value="{{ item.cost_per_unit }}" class="border p-2 w-full">
      </div>
    </div>

    <!-- Row 3: Location, Assignment & Department -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
      <div class="space-y-2">
        <label>Location</label>
        <input type="text" name="location" value="{{ item.location }}" class="border p-2 w-full">
        <label>Status</label>
        <input type="text" name="status" value="{{ item.status }}" class="border p-2 w-full">
      </div>
      <div class="space-y-2">
        <label>Department Code</label>
        <input type="text" name="department_code" value="{{ item.department_code }}" class="border p-2 w-full">
        <label>Quantity</label>
        <input type="number" name="quantity" value="{{ item.quantity }}" class="border p-2 w-full">
      </div>
      <div class="space-y-2">
        <label>Intender Name</label>
        <input type="text" name="intender_name" value="{{ item.intender_name }}" class="border p-2 w-full">
        <label>MAC Address</label>
        <input type="text" name="mac_address" value="{{ item.mac_address }}" class="border p-2 w-full">
      </div>
    </div>

    <!-- Row 4: Vendor & Assignment -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 mt-4">
      <div class="space-y-2">
        <label>Vendor Company</label>
        <input type="text" name="vendor_company" value="{{ item.vendor_company }}" class="border p-2 w-full">
        <label>Vendor Contact Person</label>
        <input type="text" name="vendor_contact_person" value="{{ item.vendor_contact_person }}" class="border p-2 w-full">
      </div>
      <div class="space-y-2">
        <label>Vendor Mobile</label>
        <input type="text" name="vendor_mobile" value="{{ item.vendor_mobile }}" class="border p-2 w-full">
        <label>Remarks</label>
        <input type="text" name="remarks" value="{{ item.remarks }}" class="border p-2 w-full">
      </div>
      <div class="space-y-2">
        <label>Assigned To (Student Roll)</label>
        <select name="assigned_to_roll" class="border p-2 w-full">
          <option value="" {% if not item.assigned_to_roll %}selected{% endif %}>-- Unassigned --</option>
          {% for student in students %}
            <option value="{{ student.roll }}" {% if item.assigned_to_roll == student.roll %}selected{% endif %}>
              {{ student.roll }} - {{ student.name }}
            </option>
          {% endfor %}
        </select>

        <label>Assigned By</label>
        <input type="text" name="assigned_by" value="{{ item.assigned_by or '' }}" class="border p-2 w-full">
      </div>
    </div>

    <div class="text-right mt-6">
      <button type="submit" class="bg-purple-600 hover:bg-purple-700 text-white px-6 py-2 rounded">Save</button>
      <a href="{{ url_for('equipment_list') }}" class="ml-4 text-gray-600 underline">Cancel</a>
    </div>
  </form>
</div>
{% endblock %}
