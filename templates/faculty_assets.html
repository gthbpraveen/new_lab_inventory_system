{% extends "login_home.html" %}
{% block title %}Faculty Assets{% endblock %}

{% block content %}
<div class="container mx-auto px-6 py-6">

  <h1 class="text-2xl font-bold text-indigo-800 mb-6">Faculty Assets (by Indenter)</h1>

  <!-- Select Indenter -->
<form method="get" class="mb-6">
  <label for="indenter" class="block font-medium text-gray-700 mb-2">Select Faculty</label>
  <select name="indenter" id="indenter" class="border rounded-md px-3 py-2">
    <option value="">-- Choose --</option>
    <optgroup label="Faculty">
      {% set faculty_list = [
        'Prof. Antony Franklin','Dr. Ashish Mishra','Prof. Bheemarjuna Reddy Tamma',
        'Prof. C. Krishna Mohan','Dr. J. Saketha Nath','Dr. Jyothi Vedurada',
        'Dr. Kotaro Kataoka','Prof. M. V. Panduranga Rao','Dr. Manish Singh',
        'Dr. Maria Francis','Prof. Maunendra Sankar Desarkar','Dr. N. R. Aravind',
        'Dr. Nitin Saurabh','Dr. Praveen Tammana','Dr. Rajesh Kedia',
        'Dr. Rakesh Venkat','Dr. Ramakrishna Upadrasta','Dr. Rameshwar Pratap',
        'Dr. Rogers Mathew','Prof. Sathya Peri','Dr. Saurabh Kumar',
        'Dr. Shirshendu Das','Dr. Sobhan Babu','Dr. Srijith P. K.',
        'Prof. Subrahmanyam Kalyanasundaram','Prof. Vineeth N. Balasubramanian'
      ] %}
      {% for fac in faculty_list %}
        <option value="{{ fac }}" {% if selected_indenter == fac %}selected{% endif %}>{{ fac }}</option>
      {% endfor %}
    </optgroup>
  </select>
  <button type="submit" class="bg-indigo-600 text-white px-4 py-2 rounded ml-2">View</button>
</form>


  {% if selected_indenter %}
    <h2 class="text-xl font-semibold text-indigo-700 mb-4">Indenter: {{ selected_indenter }}</h2>

    <!-- IT Equipment -->
    <h3 class="text-lg font-semibold mt-4 mb-2">IT Equipments </h3>
    <table class="w-full text-sm text-left border border-gray-300 mb-6">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="p-2 border">DeptCode</th>
          <th class="p-2 border">Name</th>
          <th class="p-2 border">Category</th>
          <th class="p-2 border">Serial</th>
          <th class="p-2 border">Assigned To</th>
          <th class="p-2 border">Status</th>
          <th class="p-2 border">location</th>
        </tr>
      </thead>
      <tbody>
        {% for eq in equipment_list %}
        <tr class="border-b hover:bg-gray-50">
          <td class="p-2">{{ eq.department_code }}</td>
          <td class="p-2">{{ eq.name }}</td>
          <td class="p-2">{{ eq.category }}</td>
          <td class="p-2">{{ eq.serial_number }}</td>
          <td class="p-2">{{ eq.student.roll if eq.student else '-' }}</td>
          <td class="p-2">{{ eq.status }}</td>
          <td class="p-2">{{ eq.location }} </td>
        </tr>
        {% else %}
        <tr>
          <td colspan="5" class="p-2 text-center text-gray-500">No equipment found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <!-- Workstations -->
    <h3 class="text-lg font-semibold mt-4 mb-2">Workstations </h3>
    <table class="w-full text-sm text-left border border-gray-300 mb-6">
      <thead class="bg-gray-100 text-gray-700">
        <tr>
          <th class="p-2 border">DeptCode</th>
          <th class="p-2 border">Manufacturer</th>
          <th class="p-2 border">Serial</th>
          <th class="p-2 border">Model</th>
          <th class="p-2 border">Assigned To</th>
          <th class="p-2 border">Status</th>
          <th class="p-2 border">Location</th>
        </tr>
      </thead>
      <tbody>
        {% for ws in workstation_list %}
        <tr class="border-b hover:bg-gray-50">
          <td class="p-2">{{ ws.department_code }}</td>
          <td class="p-2">{{ ws.manufacturer }}</td>
          <td class="p-2">{{ ws.serial }}</td>
          <td class="p-2">{{ ws.model }}</td>
          <td class="p-2">
            {% if ws.assignments %}
              {{ ws.assignments[0].student.name }}
            {% else %}
              -
            {% endif %}
          </td>
          <td class="p-2">{{ ws.status }}</td>
          <td class="p-2">{{ ws.location }}</td>
        </tr>
        {% else %}
        <tr>
          <td colspan="5" class="p-2 text-center text-gray-500">No workstations found.</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  {% endif %}

</div>
{% endblock %}
